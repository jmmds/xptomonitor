{% import 'main/macros.tpl.html' as macro %}
{{ macro.input_csrf() }}
<div class="container-fluid">
   <!-- Content Row -->

                    <body id="page-top">

    

            <!-- Main Content -->
            <div id="content">

                

                <!-- Begin Page Content -->
                <div class="container-fluid">

                   
                    <!-- Content Row -->
                    <div class="row">

                        <!-- Earnings (Monthly) Card Example -->
                        <div class="col-xl-3 col-md-6 mb-4">
                            <div class="card border-left-primary shadow h-100 py-2">
                                <div class="card-body">
                                    <div class="row no-gutters align-items-center">
                                        <div class="col mr-2">
                                            <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">
                                                Domínio/IP:</div>
                                            <div class="h5 mb-0 "><a href="{{ ip|raw }}" title="{{ ip|raw }}" target="_blank" rel="noopener">
								{{ ip|raw }}
							</a>
											</div>
                                        </div>
                                        <div class="col-auto">
                                            <img src="/assets/icons/domain.png"  width="34" height="34">

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
						
						
						{% if type|lower == 'service' %}
					    <!-- Earnings (Monthly) Card Example -->
                        <div class="col-xl-3 col-md-6 mb-4">
                            <div class="card border-left-success shadow h-100 py-2">
                                <div class="card-body">
                                    <div class="row no-gutters align-items-center">
                                        <div class="col mr-2">
                                            <div class="text-xs font-weight-bold text-success text-uppercase mb-1">
                                                Porta:</div>
                                            <div class="h5 mb-0 font-weight-bold text-gray-800">{{ port }}</div>
                                        </div>
                                        <div class="col-auto">
                                            <img src="/assets/icons/port.png"  width="34" height="34">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
						{% endif %}
                        <!-- Earnings (Monthly) Card Example -->
                        <div class="col-xl-3 col-md-6 mb-4">
                            <div class="card border-left-info shadow h-100 py-2">
                                <div class="card-body">
                                    <div class="row no-gutters align-items-center">
                                        <div class="col mr-2">
                                            <div class="text-xs font-weight-bold text-info text-uppercase mb-1">Status:
                                            </div>
                                            <div class="row no-gutters align-items-center">
                                                <div class="col-auto">
                                                    <div class="h5 mb-0 mr-3 font-weight-bold text-gray-800">
													{{ status }}
													</div>
                                                </div>
                                                <div class="col">
                                                    <div class="progress progress-sm mr-2">
                                                        <div class="progress-bar bg-info" role="progressbar"
                                                            style="width: 50%" aria-valuenow="50" aria-valuemin="0"
                                                            aria-valuemax="100"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-auto">
                                            <img src="/assets/icons/status.png"  width="34" height="34">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Pending Requests Card Example -->
                        <div class="col-xl-3 col-md-6 mb-4">
                            <div class="card border-left-warning shadow h-100 py-2">
                                <div class="card-body">
                                    <div class="row no-gutters align-items-center">
                                        <div class="col mr-2">
                                            <div class="text-xs font-weight-bold text-warning text-uppercase mb-1">
                                                Tempo de resposta:</div>
                                            <div class="h5 mb-0 font-weight-bold text-gray-800">{{ (rtime * 1000)|round(2) }} {{ label_milliseconds }}</div>
                                        </div>
                                        <div class="col-auto">
                                            <img src="/assets/icons/time.png"  width="34" height="34">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>	
					
					

                    <!-- Content Row -->

                    <div class="row">
		{{ html_history|raw }}
	</div>

                    <!-- Content Row -->
                    <div class="row">

                        <!-- Content Column -->
                        <div class="col-lg-6 mb-4">


                            <!-- Status -->
                            <div class="card shadow mb-4">
                                <div class="card-header py-3">
                                    <h6 class="m-0 font-weight-bold text-primary">{{ label_status }}</h6>
                                </div>
                                <div class="card-body">
                                    <h4 class="small font-weight-bold">{{ label_last_online }}:<span
                                            class="float-right">{{ last_online }}</span></h4>
                                    <div class="progress mb-4">
                                        <div class="progress-bar bg-danger" role="progressbar" style="width: 20%"
                                            aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                    <h4 class="small font-weight-bold">{{ label_last_offline }}: <span
                                            class="float-right">{{ last_offline }}</span></h4>
                                    <div class="progress mb-4">
                                        <div class="progress-bar bg-warning" role="progressbar" style="width: 40%"
                                            aria-valuenow="40" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                    <h4 class="small font-weight-bold">{{ label_last_check }}: <span
                                            class="float-right">{{ last_check }}</span></h4>
                                    
                                </div>
                            </div>
							
					
							<!-- Ultimos erros -->
								<div class="card shadow mb-4">
                                <div class="card-header py-3">
                                    <h6 class="m-0 font-weight-bold text-primary">Logs de erros</h6>
                                </div>
                                <div class="card-body">
                                    <h4 class="small font-weight-bold">{{ label_last_error }}:<span
                                            class="float-right">{{ last_error|nl2br }}</span></h4>
                                    <div class="progress mb-4">
                                        <div class="progress-bar bg-danger" role="progressbar" style="width: 20%"
                                            aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                    <h4 class="small font-weight-bold">{{ label_last_output }}: <span
                                            class="float-right">{{ last_output_truncated|nl2br }}</span></h4>
											{% if last_output_truncated != last_output %}
											<button type="button" class="btn btn-link" style="float: right;" data-toggle="modal" data-target="#modal_last_output">
								Saiba mais...
							</button>
							{% endif %}
                                    <div class="progress mb-4">
                                        <div class="progress-bar bg-warning" role="progressbar" style="width: 40%"
                                            aria-valuenow="40" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                    <h4 class="small font-weight-bold">{{ label_last_error_output }}: <span
                                            class="float-right">{{ last_error_output_truncated|nl2br }}</span></h4>
											
                                    
                                </div>
								{% if last_error_output_truncated != last_error_output %}
											<button type="button" class="btn btn-link" style="float: right;" data-toggle="modal" data-target="#modal_last_error">
								Saiba mais......
							</button>
							{% endif %}
                            </div>
                           

                        </div>

                        <div class="col-lg-6 mb-2">

                            <!-- Illustrations -->
                            <div class="card shadow mb-4">
                                <div class="card-header py-3">
                                    <h6 class="m-0 font-weight-bold text-primary">Notificações de Monitoramento </h6>
                                </div>
                                <div class="card-body">
									
                                  
			<ul class="list-group list-group-flush">
				<li class="list-group-item">
					{{ label_monitoring }}:
					{% if active|lower == 'yes' %}
					<i class="fas fa-eye float-right"></i>
					<noscript>&#10003</noscript>
					{% elseif active|lower == 'no' %}
					<i class="fas fa-eye-slash float-right"></i>
					<noscript>&#10005</noscript>
					{% else %}
					<i class="fas fa-question-circle float-right" title="Value from database should either be yes or no."></i>
					<noscript>&#8263</noscript>
					{% endif %}
				</li>
				<li class="list-group-item">
					{{ label_email }}:
					{% if email|lower == 'yes' %}
					<i class="fas fa-bell float-right"></i>
					<noscript>&#10003</noscript>
					{% elseif email|lower == 'no' %}
					<i class="fas fa-bell-slash float-right"></i>
					<noscript>&#10005</noscript>
					{% else %}
					<i class="fas fa-question-circle float-right" title="Value from database should either be yes or no."></i>
					<noscript>&#8263</noscript>
					{% endif %}
				</li>
				<li class="list-group-item">
					{{ label_sms }}:
					{% if sms|lower == 'yes' %}
					<i class="fas fa-bell float-right"></i>
					<noscript>&#10003</noscript>
					{% elseif sms|lower == 'no' %}
					<i class="fas fa-bell-slash float-right"></i>
					<noscript>&#10005</noscript>
					{% else %}
					<i class="fas fa-question-circle float-right" title="Value from database should either be yes or no."></i>
					<noscript>&#8263</noscript>
					{% endif %}
				</li>
				<li class="list-group-item">
					{{ label_discord }}:
					{% if discord|lower == 'yes' %}
					<i class="fas fa-bell float-right"></i>
					<noscript>&#10003</noscript>
					{% elseif discord|lower == 'no' %}
					<i class="fas fa-bell-slash float-right"></i>
					<noscript>&#10005</noscript>
					{% else %}
					<i class="fas fa-question-circle float-right" title="Value from database should either be yes or no."></i>
					<noscript>&#8263</noscript>
					{% endif %}
				</li>
				<li class="list-group-item">
					{{ label_pushover }}:
					{% if pushover|lower == 'yes' %}
					<i class="fas fa-bell float-right"></i>
					<noscript>&#10003</noscript>
					{% elseif pushover|lower == 'no' %}
					<i class="fas fa-bell-slash float-right"></i>
					<noscript>&#10005</noscript>
					{% else %}
					<i class="fas fa-question-circle float-right" title="Value from database should either be yes or no."></i>
					<noscript>&#8263</noscript>
					{% endif %}
				</li>
				<li class="list-group-item">
					{{ label_telegram }}:
					{% if telegram|lower == 'yes' %}
					<i class="fas fa-bell float-right"></i>
					<noscript>&#10003</noscript>
					{% elseif telegram|lower == 'no' %}
					<i class="fas fa-bell-slash float-right"></i>
					<noscript>&#10005</noscript>
					{% else %}
					<i class="fas fa-question-circle float-right" title="Value from database should either be yes or no."></i>
					<noscript>&#8263</noscript>
					{% endif %}
				</li>
				<li class="list-group-item">
					{{ label_jabber }}:
					{% if jabber|lower == 'yes' %}
					<i class="fas fa-bell float-right"></i>
					<noscript>&#10003</noscript>
					{% elseif jabber|lower == 'no' %}
					<i class="fas fa-bell-slash float-right"></i>
					<noscript>&#10005</noscript>
					{% else %}
					<i class="fas fa-question-circle float-right" title="Value from database should either be yes or no."></i>
					<noscript>&#8263</noscript>
					{% endif %}
                </li>
                <li class="list-group-item">
                    {{ label_webhook }}:
                    {% if webhook|lower == 'yes' %}
                    <i class="fas fa-bell float-right"></i>
                    <noscript>&#10003</noscript>
                    {% elseif webhook|lower == 'no' %}
                    <i class="fas fa-bell-slash float-right"></i>
                    <noscript>&#10005</noscript>
                    {% else %}
                    <i class="fas fa-question-circle float-right" title="Value from database should either be yes or no."></i>
                    <noscript>&#8263</noscript>
                    {% endif %}
                </li>
			</ul>
		</div>
                                </div>
                            </div>
							{% if log_entries %}
	
                            <!-- Approach -->
                            <div class="card shadow mb-4">
                                <div class="card-header py-3">
                                    <h6 class="m-0 font-weight-bold text-primary">{{ label_log_title }}</h6>
                                </div>
                                <div class="card-body">
                                    <table class="table table-striped table-hover">
						<thead>
						<tr>
							<th scope="col" style="width: 15%;">{{ label_date }}</th>
							<th scope="col">{{ label_message }}</th>
						</tr>
						</thead>
						<tbody>
						{% for entry in log_entries %}
						<tr>
							<td><time>{{ entry.datetime_format }}</time></td>
							<td class="full">{{ entry.message|raw }}</td>
						</tr>
						{% endfor %}
						</tbody>
					</table>
                                </div>
                            </div>
							{% endif %}

                        </div>
                    </div>

                </div>
                <!-- /.container-fluid -->

            </div>
            <!-- End of Main Content -->

            

        </div>
        <!-- End of Content Wrapper -->

    </div>
    <!-- End of Page Wrapper -->

    <!-- Scroll to Top Button-->
    <a class="scroll-to-top rounded" href="#page-top">
        <i class="fas fa-angle-up"></i>
    </a>

   <div class="modal fade" id="modal_last_output" tabindex="-1" role="dialog" aria-labelledby="modal_last_output_label" aria-hidden="true">
		<div class="modal-dialog" style="width:75%;max-width: 100%" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="modal_last_output_label">{{ label_last_output }}</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body" style="word-wrap: break-word;">
					{{ last_output|nl2br }}
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>

	<div class="modal fade" id="modal_last_error" tabindex="-1" role="dialog" aria-labelledby="modal_last_error_label" aria-hidden="true">
		<div class="modal-dialog" style="width:75%;max-width: 100%" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="modal_last_error_label">{{ label_last_error_output }}</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body" style="word-wrap: break-word;">
					{{ last_error_output|nl2br }}
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>
	
	
		
		
	</div>
	
	

	